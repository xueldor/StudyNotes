!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e){!function(){var t={};t.createClass=function(t){var e=function(){this.init&&this.init.apply(this,arguments)};return e.prototype=t,e},t.generateRandomString=function(t){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i="",n=0;n<t;n++){i+=e[Math.ceil(35*Math.random())]}return i},t.isMobile=function(){return!1},t.getElementBox=function(t){var e=t.getBoundingClientRect(),i=window.scrollX,n=window.scrollY;return{top:e.top+n,left:e.left+i,width:e.width,height:e.height}},t.getWindowHeight=function(){var t=window,e=t.document;return t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight||e.body.scrollHeight},t.css=function(t,e){var i=function(t,e){return e.toUpperCase()};for(var n in e){var a=e[n];n.indexOf("-")>0&&(n=n.replace(/\-(\w)/g,i));try{t.style[n]=a}catch(t){}}},t.getInnerText=function(t){return t.innerText||t.textContent||t.data};var e=t.createClass({init:function(){this.activeDetector()},start:function(t){var e=this,i=(new Date).getTime();setInterval(function(){var n=(new Date).getTime(),a=(n-i)/1e3;i=n,!e.active||a>.15||t(a)},100)},activeDetector:function(){var t=this;this.active=!0;var e=null,i=null;if(void 0!==document.hidden)e="hidden",i="visibilitychange";else if(void 0!==document.mozHidden)e="mozHidden",i="mozvisibilitychange";else if(void 0!==document.msHidden)e="msHidden",i="msvisibilitychange";else{if(void 0===document.webkitHidden)return void(this.active=!0);e="webkitHidden",i="webkitvisibilitychange"}document.addEventListener(i,function(i){t.active=!document[e]},!1)}}),i=t.createClass({init:function(t){this.element=t,this.data={},this.calculateTextLength(),this.calculateImages(),this.createNodes()},calculateTextLength:function(){var e="",i=["A","IFRAME","SCRIPT","H1","H2","H3","H4","NOSCRIPT","STYLE"],n=1e6,a=0,r=function(e){var i=t.getElementBox(e),r=isNaN(i.top)?0:i.top,o=isNaN(i.height)?0:i.height;n=Math.min(n,r),a=Math.max(a,r+o)},o=function(n){if(3===n.nodeType){var a=t.getInnerText(n).replace(/[\n\r\s]/g,"");if(0===a.length)return;e+=a,a.length>5&&r(n.parentNode)}else if(1===n.nodeType){for(var d=0;d<i.length;d++)if(n.tagName===i[d])return;for(var s=0;s<n.childNodes.length;s++){var c=n.childNodes[s];o(c)}}};o(this.element),""===e&&r(this.element),this.data.text=e,this.data.textLength=e.length,this.data.textStart=n,this.data.textEnd=a},calculateImages:function(){for(var e=this.element.querySelectorAll("IMG"),i=[],n=0,a=1e6,r=0,o=0;o<e.length;o++){var d=e[o],s=t.getElementBox(d);s.width*s.height>=4e4&&(i.push({element:d,box:s}),n+=s.width*s.height),a=Math.min(a,s.top),r=Math.max(r,s.top+s.height)}this.data.imageSurface=n,this.data.images=i,this.data.imageStart=a,this.data.imageEnd=r},createNodes:function(){this.data.elementBox=t.getElementBox(this.element);var e=Math.min(this.data.textStart,this.data.imageStart),i=Math.max(this.data.textEnd,this.data.imageEnd),n=i-e;this.data.top=e,this.data.bottom=i,this.data.height=n,this.data.count=Math.floor(n/10),this.data.partHeight=n/this.data.count,this.data.partSurface=this.data.elementBox.width*this.data.partHeight,this.data.parts=[];for(var a=0,r=0,o=0;o<this.data.count;o++){var d={};d.status=0,d.start=e+Math.round(o*this.data.partHeight),d.end=e+Math.round((o+1)*this.data.partHeight),d.imageCovered=0;for(var s=0;s<this.data.images.length;s++){var c=this.data.images[s],l=c.box.width/this.data.elementBox.width,h=0;c.box.top>=d.start&&c.box.top<d.end&&(h=(d.end-c.box.top)/this.data.partHeight),c.box.top+c.box.height>=d.start&&c.box.top+c.box.height<=d.end&&(h=(c.box.top+c.box.height-d.start)/this.data.partHeight),c.box.top<=d.start&&c.box.top+c.box.height>=d.end&&(h=1),d.imageCovered+=l*h}d.imageCovered>.4?(r++,d.type="img"):(a++,d.type="text"),this.data.parts.push(d)}this.data.imageParts=r,this.data.textParts=a;for(var u=0;u<this.data.count;u++){var p=this.data.parts[u];"img"===p.type?(p.textLength=0,p.imageSurface=this.data.partSurface*p.imageCovered):"text"===p.type&&(p.textLength=this.data.textLength/a,p.imageSurface=0)}}}),n=t.createClass({init:function(e){this.read=e,this.lastCheckTime=0,this.lastLogTime=0,this.previousLog=!1,this.randomUniqueKey=t.generateRandomString(32)},elapsed:function(t){this.lastCheckTime+=t,this.lastLogTime+=t,this.lastCheckTime>1&&(this.checkLog(),this.lastCheckTime=0)},checkLog:function(){var t=this.read.data,e=10*Math.round(t.totalReadTime/t.requiredReadTime*10),i=Math.round(t.viewParts/t.count*100),n=[];n.push("text"+100*Math.round(t.textLength/100)),n.push("image"+Math.round(100*t.imageParts/t.count));var a={r1:e,r2:this.previousLog?this.previousLog.r1:0,r3:n,r6:t.totalReadTime,r7:0,r8:t.requiredReadTime,r9:i};if(!this.previousLog){n.push("in_text"+100*Math.round(t.textLength/100)),n.push("in_image"+Math.round(100*t.imageParts/t.count));try{var r=sessionStorage.getItem("__read");r&&n.push(r)}catch(t){}}e<10||!1!==this.previousLog&&a.r1===this.previousLog.r1||(!1!=!this.previousLog&&(a.r7=this.previousLog.r6),this.doLog(a),this.previousLog=a)},doLog:function(t){var e=[];e.push(location.protocol+"//cir.baidu.com/api/read.do"),e.push("?url="+encodeURIComponent(this.read.target)),e.push("&readPercent="+t.r1),e.push("&readTime="+Math.round(t.r6)),e.push("&viewPercent="+t.r9),e.push("&primaryKey="+this.randomUniqueKey),e.push("&firstBlood="+!this.previousLog),this.previousLog||(this.startTime=(new Date).getTime()),e.push("&startTime="+this.startTime),document.createElement("img").src=e.join("");try{var i=[];i.push("out_"+t.r3[0]),i.push("out_"+t.r3[1]),i.push("out_r"+t.r1),sessionStorage.setItem("__read",i.join("|"))}catch(t){}this.lastLogTime=0}}),a=t.createClass({init:function(t){this.colors={text:"#60C560",img:"#5BC0DE"},this.read=t,this.initDiv()},initDiv:function(){var e=this.read.data,i=e.elementBox.left,n=document.body.appendChild(document.createElement("div"));t.css(n,{position:"absolute",top:e.top+"px",height:e.height+"px",left:i-70<0?0:i-70+"px",opacity:i-70<0?.7:1,width:"45px",border:"none","box-shadow":"2px 2px 2px 2px #888888","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",overflow:"hidden","background-color":"white","z-index":999999});var a=document.body.appendChild(document.createElement("div"));a.innerHTML="正文范围",t.css(a,{position:"absolute",top:e.top-20+"px",left:i-70<0?0:i-70+"px","font-size":"10px",width:"45px","text-align":"center","z-index":999999});var r=document.body.appendChild(document.createElement("div"));t.css(r,{position:"absolute",top:e.top+"px",left:i-200<0?0:i-200+"px",width:"100px",padding:"10px","background-color":"#d9534f",color:"white","font-size":"16px","font-weight":"bold","line-height":"30px","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px","box-shadow":"2px 2px 2px #888888","z-index":999999});var o=r.appendChild(document.createElement("div")),d=r.appendChild(document.createElement("div")),s=r.appendChild(document.createElement("div")),c=r.appendChild(document.createElement("div")),l=r.appendChild(document.createElement("div")),h=r.appendChild(document.createElement("div"));o.innerHTML="正文显示率:",s.innerHTML="阅读率:",l.innerHTML="阅读时间:",d.innerHTML="0%",c.innerHTML="0%",h.innerHTML="0 秒";for(var u=[],p="",m=0;m<e.count;m++){var g=e.parts[m],f=n.appendChild(document.createElement("div"));if(t.css(f,{width:"0%",height:g.end-g.start+"px","background-color":this.colors[g.type],"z-index":999999}),p!==g.type){var v=n.appendChild(document.createElement("div"));v.innerHTML="img"===g.type?"图片":"文字",t.css(v,{position:"absolute",width:"100%","text-align":"center","font-size":"10px","font-weight":"bold",color:"white","z-index":999999})}p=g.type,u.push(f)}this._debug={container:n,infoDiv:r,viewInfo:d,readInfo:c,readTime:h,partDivs:u}},elapsed:function(e){for(var i=this.read.data,n=this._debug.partDivs,a=0;a<i.count;a++){var r=i.parts[a],o=n[a],d=r.readPercent;o.style.width=100*d+"%",o.style.opacity=d>=1?1:.6}var s=this._debug.infoDiv,c=window.scrollY,l=t.getElementBox(s);s.style.top=Math.min(Math.max(i.top,c),i.top+i.height-l.height)+"px",this._debug.viewInfo.innerHTML=Math.round(i.viewParts/i.count*100)+"%",this._debug.readInfo.innerHTML=Math.round(i.totalReadTime/i.requiredReadTime*100)+"%",this._debug.readTime.innerHTML=Math.floor(i.totalReadTime)+" 秒"}}),r=t.createClass({init:function(){var t=this;this.target=void 0!==window._popIn_read_target?window._popIn_read_target:location.href;var r=!1;if(r=window.cir_recommend_config&&void 0!==window.cir_recommend_config._popIn_read_element?window.cir_recommend_config._popIn_read_element:window.cir_recommend_config&&void 0!==window.cir_recommend_config._popIn_read_selector?document.body.querySelector(window.cir_recommend_config._popIn_read_selector):(new o).find(document.body),this.uid=0,this.nid=0,this.media=0,r){this.element=r,this.textSpeed=1e3/60,this.imageSpeed=9e4,this.nodeFactory=new i(this.element),this.data=this.nodeFactory.data,this.setPartsRequiredTime(),this.data.viewParts=0,this.data.readParts=0,this.data.totalReadTime=0,this.debug=window.location.href.indexOf("popinread=true")>=0&&new a(this),this.logger=new n(this);(new e).start(function(e){t.elapsed(e),t.debug&&t.debug.elapsed(e),t.logger&&t.logger.elapsed(e)})}},setPartsRequiredTime:function(){for(var t=0,e=0;e<this.data.count;e++){var i=this.data.parts[e];i.readTime=0,i.requiredTime=0,i.readPercent=0,i.requiredTime+=i.textLength/this.textSpeed,i.requiredTime+=i.imageSurface/this.imageSpeed,t+=i.requiredTime}this.data.requiredReadTime=t},elapsed:function(e){for(var i=window.scrollY,n=t.getWindowHeight(),a=parseInt(i,10)+parseInt(n,10),r=[],o=0;o<this.data.count;o++){var d=this.data.parts[o];d.start>i&&d.end<a&&d.status<2&&r.push(d)}for(var s=e/r.length,c=0;c<r.length;c++){var l=r[c];0===l.status&&(this.data.viewParts++,l.status=1),l.readTime+=s,l.readPercent=Math.min(1,l.readTime/l.requiredTime),1===l.readPercent&&(l.status=2)}r.length>0&&(this.data.totalReadTime+=e)}}),o=t.createClass({init:function(){},find:function(t){function e(t){return t.offsetWidth*t.offsetHeight}for(var i=t.childNodes,n=null,a=null,r=0,o=i.length;r<o;r++)if(n=i[r],!(1!==n.nodeType&&"IFRAME"!==n.tagName&&"SCRIPT"!==n.tagName||a&&n.offsetWidth<a.offsetWidth&&a.offsetTop>10)){var d=n.getElementsByTagName("script").length>0?function(t){for(var e=0,i=t.childNodes,n=0,a=i.length;n<a;n++)"IFRAME"!==i[n].tagName&&"SCRIPT"!==i[n].tagName&&(e+="textContent"in i[n]?i[n].textContent.length:i[n].innerText?i[n].innerText.length:0);return e}(n):n.textContent.replace(/\s+/,"").length,s=t.offsetWidth<1100?.07:0;n.offsetTop<400&&n.offsetLeft<t.offsetWidth/2&&n.offsetWidth>300&&n.offsetHeight>250&&d>30&&e(n)>e(document.body)*s&&(a=n)}return a?this.find(a):t}});setTimeout(function(){new r},1)}()},function(t,e){!function(){function t(t){var e=t.getMonth()+1,i=t.getDate();return t.getFullYear()+(e>=10?""+e:"0"+e)+(i>=10?""+i:"0"+i)}function e(t){var e=[];for(var i in t)e.push(i+"="+t[i]);return e}function i(t,e){if(t.num&&0===t.pos.length){for(var i=[],n=0;n<e;n++)i.push(n);return i.sort(function(){return.5-Math.random()}),i.slice(0,t.num)}return t.pos}function n(t,i){var n={tid:x.tid,sid:x.sid,contentId:t.contentId,filterNum:x.filterNum,title:encodeURIComponent(t.title),subDomain:t.subDomain,mainDomain:t.mainDomain,contentType:t.contentType,flowType:t.flowType,lang:navigator.language,version:x.version};return w.domain+i+"?"+e(n).join("&")}function a(e,i){var n=null;e.forEach(function(t){(t.i||"")===i+""&&(n=t)}),n?n.d=t(new Date):e.push({d:t(new Date),i:i}),y.setItem(w.storageKey,JSON.stringify(e))}function r(t,e){var i={read:[],notRead:[]},n=t.map(function(t){return t.i||""});return e.forEach(function(t){n.indexOf(t.contentId+"")>=0?i.read.push(t):i.notRead.push(t)}),i}function o(t,e){return'<p style="overflow:hidder;height:12px;line-height:12px;">'+(e.showPublishTime?'<span style="float:left;font-size:12px;color:#999">'+t.publishTime.slice(0,10)+"</span>":"")+(e.showMediaReadNumber?'<span style="float:right;font-size:12px;color:#999">'+t.mediaReadNumber+"次阅读</span>":"")+"</p>"}function d(t,e){var i=n(t,w.clickUrl)+"&redirectUrl="+encodeURIComponent(t.url),a=e.showPublishTime||e.showMediaReadNumber?o(t,e):"";return'<a href="'+i+'" class="cid_title_link" target="_blank" style="text-decoration:none;" data-article-id='+t.contentId+'><span style="display:inline-block;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:'+e.titleColor+";font-size:"+e.titleFontSize+';">'+t.title+"</span>"+a+"</a>"}function s(t,e){var i=n(t,w.clickUrl)+"&redirectUrl="+encodeURIComponent(t.url),a=Number.isNaN(+e.w)?e.w:e.w+"px",r=Number.isNaN(+e.h)?e.h:e.h+"px",o=t.imgs.length>0?'<div style="width:'+a+";height:"+r+";margin:"+e.imgMargin+";float:left;background:url("+t.imgs[0].url+') no-repeat;background-size:cover;"></div>':"";return'<a href="'+i+'" class="cid_title_link" target="_blank" style="text-decoration:none;" data-article-id='+t.contentId+">"+o+'<span style="color:'+e.titleColor+";font-size:"+e.titleFontSize+';">'+t.title+"</span></a>"}function c(t,e){e.adSetting.pos=i(e.adSetting,t.length);var a=e.adSetting,r=0;return'<ul class="cid_article_list">'+t.map(function(i,o){var c=t[r],l="";if(o<t.length-1&&(l+=";border-bottom: 1px solid "+e.divideLineColor+";"),a.num&&a.pos.indexOf(o)>=0){var h=""+Math.random().toString(36).slice(2);return b.push(h),'<li class="cid_article" style="'+(l+=";margin-left:-"+e.padding)+'"><div id="'+h+'"></div></li>'}var u=n(c,w.renderUrl);(new Image).src=u,r++,l+=";overflow:hidden;padding:"+e.itemPadding;var p="";switch(e.templateId){case 10101:p=s(c,e);break;case 10105:p=d(c,e)}return'<li class="cid_article" style="'+l+'">'+p+"</li>"}).join("")+"</ul>"}function l(t){return t?document.querySelector(t):null}function h(t){for(var e=window.cir_recommend_config&&window.cir_recommend_config._recommend_article,i=0;i<e.length;i++)if(e[i].tid===t)return l(e[i].selector);return null}function u(t){var i="render_"+(100*Date.now()+Math.round(100*Math.random())).toString(16);window[i]=p;var n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.async=!0;var a=window.location.port,r=window.location.href;parseInt(a,10)>0&&(r=r.replace(":"+a,""));var o={callback:i,url:encodeURIComponent(r),lang:navigator.language,tid:t};n.src=w.domain+w.apiUrl+"?"+e(o).join("&");var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(n,d)}function p(t){var e=h(t.tid),i=JSON.parse(y.getItem("cir_read_records")||"[]"),n=t.articles,a=t.style.row*t.style.col;if(e&&n.length){x=t;var o=r(i,n);x.filterNum=o.read.length,n=o.notRead,n.length<a&&(n=n.concat(o.read.slice(0,a-o.notRead.length))),e.innerHTML=m(t,n.slice(0,a)),t.ads&&t.ads.length&&g(t.ads),v()}}function m(t,e){var i=t.style,n="";switch(i.templateId){case 10101:n=c(e,i);break;case 10105:e.forEach(function(t){t.imgs=[]}),n=c(e,i);break;default:n=""}return'<div style="background-color:'+t.style.backgroundColor+";padding:"+i.padding+'">'+f(t.style)+n+"</div>"}function g(t){b.forEach(function(e,i){var n=t[i]||t[0];(window.slotbydup=window.slotbydup||[]).push({id:n.tuid,container:document.getElementById(e),async:!0})})}function f(t){return'<div style="overflow:hidden;border-bottom: 1px solid '+t.frameTitleLineColor+';padding-bottom:8px"><p style="float:left;display:inline-block;color:'+t.frameTitleColor+";font-size:"+t.frameTitleFontSize+";margin-left:"+t.itemPadding+'">'+t.frameTitle+'</p><span style="color:#999;font-size:12px;float:right;margin-right:10px;">百度智荐</span></div>'}function v(){var t=document.querySelector(".cid_article_list");t&&t.addEventListener("click",function(t){var e=t.target.parentElement;"A"===e.tagName&&a(_,e.getAttribute("data-article-id"))},!1)}var w={domain:location.protocol+"//cir.baidu.com/api",apiUrl:"/rec.do",clickUrl:"/c.do",renderUrl:"/v.do",storageKey:"cir_read_records"},x={},b=[],y=window.localStorage||{setItem:function(){},getItem:function(){}},_=function(e){var i=t(new Date(new Date-2592e6));return e.filter(function(t){return t.d>i})}(JSON.parse(y.getItem(w.storageKey)||"[]"));y.setItem(w.storageKey,JSON.stringify(_)),function(){window.cir_recommend_config&&window.cir_recommend_config._recommend_article&&Array.isArray(window.cir_recommend_config._recommend_article)&&window.cir_recommend_config._recommend_article.forEach(function(t){u(t.tid)})}()}()},function(t,e,i){i(0),i(1)}]);